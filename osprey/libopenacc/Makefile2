# GCC compiler
CC = gcc
CFLAGS = 
LINK = gcc
INCL = -I. -I/opt/cuda/5.0/include
DYNAMIC_LIBS = -lOpenACC -lcuda -lcudart -lpthread
LIBS = -L. -L/opt/cuda/5.0/lib64 $(DYNAMIC_LIBS)

#TARGET = rt_vector_add
TARGET = vectoradd.w2c
SRCDIR = .
SRCS = vectoradd.w2c.c
#SRCS = rt_vector_add.c
OBJS = $(patsubst %.c, %.o, $(SRCS))

all: $(TARGET)

$(TARGET): $(OBJS) 
	$(LINK) $^ -o $@ $(LIBS)

%.o: %.c
	$(CC) $(INCL) $(CFLAGS) -c $< -o $@ 

clean:
	@rm -f ./$(TARGET) ./*.o
